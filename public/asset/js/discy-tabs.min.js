(function(a){a.tools=a.tools||{version:"v1.2.7"},a.tools.tabs={conf:{tabs:"a",current:"current",activetab:"active-tab",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(a,b){d[a]=b}};var d={default:function(b,c){var a=this.getConf();this.getPanes().hide().removeClass(a.activetab).eq(b).show().addClass(a.activetab),c.call()},fade:function(d,e){var a=this.getConf(),c=a.fadeOutSpeed,b=this.getPanes();c?b.fadeOut(c).removeClass(a.activetab):b.hide().removeClass(a.activetab),b.eq(d).fadeIn(a.fadeInSpeed,e).addClass(a.activetab)},slide:function(b,c){var a=this.getConf();this.getPanes().slideUp(a.slideUpSpeed).removeClass(a.activetab),this.getPanes().eq(b).slideDown(a.slideDownSpeed,c).addClass(a.activetab)},ajax:function(a,b){this.getPanes().eq(0).load(this.getTabs().eq(a).attr("href"),b)}},b,c;a.tools.tabs.addEffect("horizontal",function(g,d){if(!b){var e=this.getPanes().eq(g),f=this.getCurrentPane();c||(c=this.getPanes().eq(0).width()),b=!0,e.show(),f.animate({width:0},{step:function(a){e.css("width",c-a)},complete:function(){a(this).hide(),d.call(),b=!1}}),f.length||(d.call(),b=!1)}});function e(h,i,b){var c=this,j=h.add(this),e=h.find(b.tabs),f=i.jquery?i:h.children(i),g;e.length||(e=h.children()),f.length||(f=h.parent().find(i)),f.length||(f=a(i)),a.extend(this,{click:function(f,i){var k=e.eq(f),m=!h.data("tabs"),l,n;if(typeof f=="string"&&f.replace("#","")&&(k=e.filter('[href*="'+f.replace("#","")+'"]'),f=Math.max(e.index(k),0)),b.rotate){if(l=e.length-1,f<0)return c.click(l,i);if(f>l)return c.click(0,i)}if(!k.length){if(g>=0)return c;f=b.initialIndex,k=e.eq(f)}if(f===g)return c;if(i=i||a.Event(),i.type="onBeforeClick",j.trigger(i,[f]),!i.isDefaultPrevented())return n=m?b.initialEffect&&b.effect||"default":b.effect,d[n].call(c,f,function(){g=f,i.type="onClick",j.trigger(i,[f])}),e.removeClass(b.current),k.addClass(b.current),c},getConf:function(){return b},getTabs:function(){return e},getPanes:function(){return f},getCurrentPane:function(){return f.eq(g)},getCurrentTab:function(){return e.eq(g)},getIndex:function(){return g},next:function(){return c.click(g+1)},prev:function(){return c.click(g-1)},destroy:function(){return e.off(b.event).removeClass(b.current),f.find('a[href^="#"]').off("click.T"),c}}),a.each("onBeforeClick,onClick".split(","),function(e,d){a.isFunction(b[d])&&a(c).on(d,b[d]),c[d]=function(b){return b&&a(c).on(d,b),c}}),b.history&&a.fn.history&&(a.tools.history.init(e),b.event="history"),e.each(function(d){a(this).on(b.event,function(a){return c.click(d,a),a.preventDefault()})}),f.find('a[href^="#"]').on("click.T",function(b){c.click(a(this).attr("href"),b)}),location.hash&&b.tabs=="a"&&h.find('[href="'+location.hash+'"]').length?c.click(location.hash):(b.initialIndex===0||b.initialIndex>0)&&c.click(b.initialIndex)}a.fn.tabs=function(d,b){var c=this.data("tabs");return c&&(c.destroy(),this.removeData("tabs")),a.isFunction(b)&&(b={onBeforeClick:b}),b=a.extend({},a.tools.tabs.conf,b),this.each(function(){c=new e(a(this),d,b),a(this).data("tabs",c)}),b.api?c:this}})(jQuery)